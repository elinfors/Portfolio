"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=require("react");require("tiny-warning");var e,t=(e=require("raf"))&&"object"==typeof e&&"default"in e?e.default:e;function r(){return(r=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function o(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)e.indexOf(t=i[r])>=0||(o[t]=n[t]);return o}var i=function(){};function a(n){return(null==n?void 0:n.current)?n.current.scrollHeight:"auto"}var u=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return e.forEach((function(n){return n&&n.apply(void 0,t)}))}};function l(n,e){if(null!=n)if("function"==typeof n)n(e);else try{n.current=e}catch(t){throw new Error('Cannot assign value "'+e+'" to ref "'+n+'"')}}var f="undefined"!=typeof window?n.useEffect:n.useLayoutEffect,c=!1,d=0,s=function(){return++d};exports.default=function(e){var d=void 0===e?{}:e,p=d.duration,v=d.easing,h=void 0===v?"cubic-bezier(0.4, 0, 0.2, 1)":v,g=d.collapseStyles,y=void 0===g?{}:g,E=d.expandStyles,x=void 0===E?{}:E,b=d.onExpandStart,w=void 0===b?i:b,C=d.onExpandEnd,S=void 0===C?i:C,k=d.onCollapseStart,O=void 0===k?i:k,j=d.onCollapseEnd,P=void 0===j?i:j,T=d.isExpanded,q=d.defaultExpanded,A=void 0!==q&&q,M=o(d,["duration","easing","collapseStyles","expandStyles","onExpandStart","onExpandEnd","onCollapseStart","onCollapseEnd","isExpanded","defaultExpanded"]),R=function(e,t){var r=n.useState(t||!1),o=r[0],i=r[1],a=n.useRef(null!=e),u=a.current?e:o,l=n.useCallback((function(n){a.current||i(n)}),[]);return n.useEffect((function(){}),[e]),[u,l]}(T,A),m=R[0],z=R[1],H=function(e){var t=c?s():null,r=n.useState(t),o=r[0],i=r[1];return f((function(){null===o&&i(s())}),[]),n.useEffect((function(){!1===c&&(c=!0)}),[]),null!=o?String(o):void 0}(),K=n.useRef(null);n.useEffect((function(){}),[K]);var _,I,L,N=(M.collapsedHeight||0)+"px",B={display:"0px"===N?"none":"block",height:N,overflow:"hidden"},D=n.useState(m?{}:B),F=D[0],G=D[1],J=n.useCallback((function(n){G((function(e){return r({},e,n)}))}),[]);function Q(n){return{transition:"height "+(p||function(n){if(!n||"string"==typeof n)return 0;var e=n/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}(n))+"ms "+h}}_=function(){t(m?function(){w(),J(r({},x,{willChange:"height",display:"block",overflow:"hidden"})),t((function(){var n=a(K);J(r({},Q(n),{height:n}))}))}:function(){O();var n=a(K);J(r({},y,Q(n),{willChange:"height",height:n})),t((function(){J({height:N,overflow:"hidden"})}))})},I=[m],L=n.useRef(!0),n.useEffect((function(){if(!L.current)return _();L.current=!1}),I);var U=function(n){if(n.target===K.current&&"height"===n.propertyName)if(m){var e=a(K);e===F.height?G({}):J({height:e}),S()}else F.height===N&&(G(B),P())};return{getToggleProps:function(n){var e=void 0===n?{}:n,t=e.disabled,a=void 0!==t&&t,l=e.onClick,f=void 0===l?i:l,c=o(e,["disabled","onClick"]);return r({type:"button",role:"button",id:"react-collapsed-toggle-"+H,"aria-controls":"react-collapsed-panel-"+H,"aria-expanded":m,tabIndex:0,disabled:a},c,{onClick:a?i:u(f,(function(){return z((function(n){return!n}))}))})},getCollapseProps:function(n){var e,t=void 0===n?{}:n,a=t.style,f=void 0===a?{}:a,c=t.onTransitionEnd,d=void 0===c?i:c,s=t.refKey,p=void 0===s?"ref":s,v=o(t,["style","onTransitionEnd","refKey"]);return r({id:"react-collapsed-panel-"+H,"aria-hidden":!m},v,((e={})[p]=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.every((function(n){return null==n}))?null:function(n){e.forEach((function(e){l(e,n)}))}}(K,v[p]),e.onTransitionEnd=u(U,d),e.style=r({boxSizing:"border-box"},f,F),e))},isExpanded:m,setExpanded:z}};
//# sourceMappingURL=react-collapsed.cjs.production.min.js.map
